;(function(e){var t={data:{id:"_openid",loaded:"_openloaded"},type:{self:"self",blank:"blank",iframe:"iframe",ajax:"ajax"},popup:{height:780,width:420},onView:null,uniqueIdentifier:"unique"};var n={type:t.type.self,container:"body",autoload:false,browser:{name:"_openbrowser",error:{name:"_openfailure",content:"An error was occured. Please to retry later.",enable:true},closure:{"class":"_close",content:"X",enable:false},loading:{name:"_openloader",content:"Please be patient, loading ...",enable:true},displayInline:false,outerClosure:false,maxTab:5},ajax:{toggle:true,onLoaded:null,onView:null,onExit:null},iframe:{options:{src:"",scrolling:"auto",frameborder:0},onLoaded:null,onView:null,onExit:null},popup:{options:{scrollbars:"yes",toolbar:"yes",location:"yes",directories:"yes",menubar:"yes",resizable:"yes",status:"yes",top:0,left:0,height:780,width:420},onExit:null},window:{onExit:null}};var r=function(e,n){if(null==e.data(t.data.id)){e.data(t.data.id,"_open"+Math.floor(Math.random()*1001+1))}n.name=e.data(t.data.id);var r;if(e.hasClass(t.type.self)){r=t.type.self}else if(e.hasClass(t.type.blank)){r=t.type.blank}else if(e.hasClass(t.type.iframe)){r=t.type.iframe}else if(e.hasClass(t.type.ajax)){r=t.type.ajax}else{r=n.type}var i;if(null!=(i=p(e,n))){switch(r){case t.type.ajax:return o(i,n);case t.type.iframe:return u(i,n);case t.type.blank:return a(i,n);case t.type.self:default:return f(i,n)}}return false};var i=function(n,r,i){if(e.isFunction(i.onExit)){i.onExit(n.attr("id"))}n.hide();if(0==r.children("div:visible").length){r.removeClass(t.data.loaded)}};var s=function(t,n){var r=e(t.target);var s=e("#"+n.browser.name);var o=s.children("div:visible");if(0<o.length&&r[0]!=o[0]&&0==r.parents("#"+o.attr("id")).length){if(o.children("iframe").length){i(o,s,n.iframe)}else{i(o,s,n.ajax)}}};var o=function(n,r){l(r);if(null==e("#"+r.name).data(t.data.loaded)){return e.get(n,function(t){e("#"+r.name).append(t)}).success(function(){c(r,t.type.ajax)}).error(function(){if(r.browser.error.enable){e("#"+r.browser.error.name).show().delay(1e3).hide()}})}return c(r,t.type.ajax)};var u=function(n,r){l(r);if(null==e("#"+r.name).data(t.data.loaded)){var i=[];for(var s in r.iframe.options){i.push(s+' = "'+r.iframe.options[s]+'"')}e("#"+r.name).append("<iframe "+i.join(" ")+"></iframe>")}var o=e("#"+r.name+" > iframe");if(r.browser.loading.enable){if(""==o.attr("src")){return o.attr("src",n).load(function(){c(r,t.type.iframe)})}}else if(""==o.attr("src")){o.attr("src",n)}return c(r,t.type.iframe)};var a=function(n,r){var i=[];var s=r.popup.options;s.height=screen.height*.8;s.width=screen.width*.8;if(s.width<t.popup.height){s.height=t.popup.height}if(s.height<t.popup.width){s.width=t.popup.width}for(var o in s){i.push(o+"="+s[o])}if(e.isFunction(r.popup.onExit)){r.popup.onExit(r.popup.name)}return window.open(n,r.name,i.join(","))};var f=function(t,n){if(e.isFunction(n.window.onExit)){n.window.onExit(n.name)}return window.location.href=t};var l=function(n){t.onView=n.name;if(0==e("#"+n.browser.name).length){e(document.body).append('<div id="'+n.browser.name+'"></div>')}if(n.browser.loading.enable){if(0==e("#"+n.browser.loading.name).length){e(document.body).append('<div id="'+n.browser.loading.name+'">'+n.browser.loading.content+"</div>")}else{e("#"+n.browser.loading.name).show()}}if(n.browser.error.enable){if(0==e("#"+n.browser.error.name).length){e(document.body).append('<div id="'+n.browser.error.name+'">'+n.browser.error.content+"</div>")}e("#"+n.browser.error.name).hide()}if(0==e("#"+n.name).length){var r=e("#"+n.browser.name+" > div");if(n.browser.maxTab<=r.length){r.filter(":first").remove()}var i="";if(n.browser.closure.enable){i='<div class="'+n.browser.closure.class+'">'+n.browser.closure.content+"</div>"}e("#"+n.browser.name).append('<div id="'+n.name+'">'+i+"</div>")}e("#"+n.browser.name+" > div").hide()};var c=function(n,r){if(t.onView!=n.name){return}if(n.browser.loading.enable){e("#"+n.browser.loading.name).hide()}var s=e("#"+n.name);var o=e("#"+n.browser.name);if(t.type.ajax==r&&n.toggle&&s.is(":visible")){i(s,o,n)}else{if(n.browser.displayInline){s.show()}else{s.css("display","block")}o.addClass(t.data.loaded);var u;if(s.children("iframe").length){u=n.iframe}else{u=n.ajax}if(null==s.data(t.data.loaded)){if(e.isFunction(u.onLoaded)){u.onLoaded(n.name)}s.data(t.data.loaded,true)}if(e.isFunction(u.onView)){u.onView(n.name)}}};var h=function(e){var t=new String;var n,r,i,s=new String;n="a";r="A";i="z";s="Z";var o=-1,u;while(o++<e.length-1){u=e.charCodeAt(o);if(u>=n.charCodeAt()&&u<=i.charCodeAt()){u=(u-n.charCodeAt()+13)%26+n.charCodeAt()}else if(u>=r.charCodeAt()&&u<=s.charCodeAt()){u=(u-r.charCodeAt()+13)%26+r.charCodeAt()}t+=String.fromCharCode(u)}return t};var p=function(e,n){var r;if(null!=(r=d(e))){if((e.hasClass(t.type.ajax)||t.type.ajax==n.type)&&-1!=r.indexOf("#")){r=r.replace("#",-1!=r.indexOf("?")?"&":"?")}if(null!=e.data("arg")){r+=(-1!=r.indexOf("?")?"&":"?")+e.data("arg")}if(e.hasClass(t.uniqueIdentifier)){r+=(-1!=r.indexOf("?")?"&":"?")+"_i="+(new Date).getTime()}}return r};var d=function(t){if("undefined"!==typeof t.attr("href")){return t.attr("href")}else if("undefined"!==typeof t.data("url")){return t.data("url")}else if("undefined"!==typeof t.data("erl")){return h(t.data("erl"))}else if("undefined"!==typeof t.data("nrl")){var n=t.data("nrl");if(-1!==n.indexOf("uggc:")){return h(n)}return n}else if("undefined"!==typeof t.data("irl")){return d(e("#"+t.data("irl")))}return null};e.open=function(t,o){var u;if("undefined"!=typeof o){u=e.extend(true,{},n,o)}else{u=n}e(u.container).on("click",t,function(t){t.preventDefault();r(e(this),u)}).on("click","#"+u.browser.name+" ."+u.browser.closure.class,function(){if(u.browser.closure.enable){var t=e(this).parent();if(t.children("iframe").length){i(t,e("#"+u.browser.name),u.iframe)}else{i(t,e("#"+u.browser.name),u.ajax)}}}).on("click",function(e){if(u.browser.outerClosure){s(e,u)}});if(u.autoload){r(e(t).filter(":first"),u)}}})(jQuery);